<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta property="twitter:card" content="summary_large_image"/><link rel="shortcut icon" type="image/svg" href="https://docs.docker.com/favicons/docs@2x.ico"/><noscript></noscript><meta name="generator" content="Gatsby 2.18.10"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><title data-react-helmet="true">Building an Image</title><link data-react-helmet="true" rel="canonical" href="https://docker-workshop.com/containers-in-practice/2-building-an-image"/><meta data-react-helmet="true" name="title" content="Building an Image"/><meta data-react-helmet="true" name="description" content="Learn how to build your own docker image"/><meta data-react-helmet="true" property="og:title" content="Building an Image"/><meta data-react-helmet="true" property="og:description" content="Learn how to build your own docker image"/><meta data-react-helmet="true" property="twitter:title" content="Building an Image"/><meta data-react-helmet="true" property="twitter:description" content="Learn how to build your own docker image"/><link as="script" rel="preload" href="/webpack-runtime-10c142f63ea43fa1c4a6.js"/><link as="script" rel="preload" href="/commons-926e13980b7ff3c9526c.js"/><link as="script" rel="preload" href="/app-0ab1201750e3d32828dd.js"/><link as="fetch" rel="preload" href="/page-data/containers-in-practice/2-building-an-image/page-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><div><style data-emotion-css="0"></style><div class="navBarWrapper"><nav class="navBarDefault"><div class="navBarHeader"><a href="https://docker-workshop.com" class="navBarBrand"><img class="img-responsive displayInline" src="https://www.docker.com/sites/default/files/d8/2019-07/horizontal-logo-monochromatic-white.png" alt="logo"/></a><div class="headerTitle displayInline">Docker Workshop</div></div><ul class="socialWrapper visibleMobileView">
      <li>
		    <a href="https://twitter.com/iTMayzIII" target="_blank" rel="noopener">
		      <div class="twitterBtn">
		        <img src='https://graphql-engine-cdn.hasura.io/learn-hasura/assets/homepage/twitter-brands-block.svg' alt={'Discord'}/>
		      </div>
		    </a>
		  </li>
		</ul><div class="searchWrapper hiddenMobile navBarUL"><div></div></div><div id="navbar" class="topnav"><div class="visibleMobile"><style data-emotion-css="8uxxw2">.css-8uxxw2{width:100%;height:100vh;overflow:auto;position:fixed;padding-left:0px;position:-webkit-sticky;position:-moz-sticky;position:-webkit-sticky;position:sticky;top:0;padding-right:0;-webkit-box-shadow:-1px 0px 4px 1px rgba(175,158,232,0.4);}@media only screen and (max-width:1023px){.css-8uxxw2{width:100%;height:100vh;}}@media (min-width:767px) and (max-width:1023px){.css-8uxxw2{padding-left:0;}}@media only screen and (max-width:767px){.css-8uxxw2{padding-left:0px;height:auto;}}</style><aside class="css-8uxxw2 e1sbq3r11"><div class="sidebarTitle hiddenMobile"><a href='https://docker-workshop.com/'>Docker </a><div class='greenCircle'></div><a href='https://docker-workshop.com/'>Workshop</a></div><ul class="sideBarUL"><li class="hideFrontLine firstLevel item "><ul><li class=" item "><a href="/introduction">Introduction</a></li><li class=" item "><a href="/quick-examples">Quick Examples</a></li><li class=" item "><a href="/why-containers">Why Use Containers</a></li><li class=" item "><a href="/containers-in-practice">Containers in Practice<button aria-label="collapse" class="collapser"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24"><path d="M7.33 24l-2.83-2.829 9.339-9.175-9.339-9.167 2.83-2.829 12.17 11.996z"></path></svg></button></a></li></ul></li><style data-emotion-css="1q387v1">.css-1q387v1{list-style:none;padding:0.5rem 0;}.css-1q387v1 hr{margin:0;padding:0;border:0;border-bottom:1px solid #ede7f3;}</style><li class="css-1q387v1 e1sbq3r12"><hr/></li><style data-emotion-css="12lts21">.css-12lts21{list-style:none;}.css-12lts21 a{color:#5c6975;-webkit-text-decoration:none;text-decoration:none;font-weight:400;padding:0.45rem 0 0.45rem 2rem;display:block;position:relative;}.css-12lts21 a:hover{color:#1ed3c6 !important;}.css-12lts21 a svg{float:right;margin-right:1rem;}</style><li class="css-12lts21 e1sbq3r10"><a href="https://docs.docker.com/" to="https://docs.docker.com/" target="_blank" rel="noopener noreferrer">Docker Docs<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></li><li class="css-12lts21 e1sbq3r10"><a href="https://docs.docker.com/engine/reference/builder/" to="https://docs.docker.com/engine/reference/builder/" target="_blank" rel="noopener noreferrer">Dockerfile Reference<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></li><li class="css-12lts21 e1sbq3r10"><a href="https://docs.docker.com/compose/compose-file/" to="https://docs.docker.com/compose/compose-file/" target="_blank" rel="noopener noreferrer">Compose File Reference<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></li></ul></aside><hr/></div><ul class="navBarUL navBarNav navBarULRight"><li class="divider hiddenMobile"></li><li class="hiddenMobile"><ul class="socialWrapper">
      <li>
		    <a href="https://twitter.com/iTMayzIII" target="_blank" rel="noopener">
		      <div class="twitterBtn">
		        <img src='https://graphql-engine-cdn.hasura.io/learn-hasura/assets/homepage/twitter-brands-block.svg' alt={'Discord'}/>
		      </div>
		    </a>
		  </li>
		</ul></li><li class="githubBtn"><span><a href="https://github.com/itmayziii/docker-workshop/tree/gh-pages" data-show-count="true" aria-label="Star on GitHub">Star</a></span></li><li><style data-emotion-css="utzlxm">.css-utzlxm{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;width:100%;padding:0 20px 0 25px;}.css-utzlxm .switch{position:relative;display:inline-block;width:50px;height:20px;}.css-utzlxm .switch input{opacity:0;width:0;height:0;}.css-utzlxm .slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#ccc;-webkit-transition:0.4s;-webkit-transition:0.4s;transition:0.4s;}.css-utzlxm .slider:before{position:absolute;content:'';height:30px;width:30px;left:0px;bottom:4px;top:0;bottom:0;margin:auto 0;-webkit-transition:0.4s;-webkit-transition:0.4s;transition:0.4s;box-shadow:0 0px 15px #2020203d;background:white url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAsQAAALEBxi1JjQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAOfSURBVEiJlZVLaFxVGMd/333NJG2a+ujUJnGSSWljGvPoQ0tBbIooulDoQgSpEou4UOqiLlzpxoVFEIsgaotaaEhBEXVV8EUXgrao0SYxk6ROjCUxfaQvm8fMPfd+LqZJ5k4ySfxW93yP/+Ocw7mwTOhw21odbG8rzuf6N3fl+iqNDm5rXGreKlXwB1oe8vtr0yanF4JY1YeR2lDzbgnHn5JwxvYJjuhwR7wUjixUXBc3Wfsk/lg7sUYkvmXC1vB+qe3K5IZa90s2cxTNWQASa4B4C0AAfO8kOx8pxnMi4OdaEmbmcg9mIoF7NxLfAiIvSLIrAyChjswpsysg3jy7tEEuLeZgbotUsQL/SjdmIoF4SPl2QM7YNce/mO1xG85+p27dy3lp1XMbIPCrfbGsY0kCM7DxWzWXqgCINQIugh4TQSMuYRRAxSnM/Ss7jvglCfy+1gfwx/bMuhWv/lbR/rp4wLZw88qzPYIcBDIscpazkZdhXf2YMLy1DwnIq1Muxv5eMLCp5zPta6qQTb03oRdVDkO7XYpAdLhtrZkcuoKavIp4MxK7ByDrJDtLXr+VhmWy/oE5cECkfPYzpiNP37ZSIE23pLSvyVtAIGR3RTLizn0ay25ZEXjm3vVGL/wWxCrfU22PXH1LMVXR7lzhYu+y4H+1bjWTf45jV6/Bq38+OF/zTYTAEnUjAzozb0bp0H+eW7cUgdT93o274QxeDQChhK9GCELcy5GJILKsDHxzaFkX4qUJp99F5agrzrWIgFy68SPxM/vnMw6y5glg/uYJctBOHn9nOaLCyJ1/ZqeE4WrLldgHUTkGzY1EU+jb/si+t4oPsFSYkX3PWqqnLJGdAmD+SNzU4PqquQ6rDKl4LOIi70T7FN6wA/crSR2bKaypPmmbUfdBCezXEN0DqC1hgwAEg42Hwmwmcjji1UPZ9lIipxB+Ah1FLR90A3AfcGdBz5dOsnOv5Nmxgv7ENQ2uV0RgynYgXmolu1Ic03YQbJPUiXT+xyGEtnPXw1heGG37Bc2e+9/oAq9I6kQaCp5r2Xz2tHqpA4hb8DwrzHSjUz9COL0icEXftJOd7xeQRcMMNT1ObuxzDafcaMVGvFrw6sC6HWTB6DTwkpPs/KTIzSIqhrauM8GNTzHjuwsfwvkpB6w1IHEQVGV1r+vc8aJsPPXDgtaSXgEd2FXtc/V1gslHLabWa5jzEAXsACm/IVbZz8iqw05Dz8lSGP8BjRZeDZkbZsEAAAAASUVORK5CYII=);background-repeat:no-repeat;background-position:center;}.css-utzlxm input:checked + .slider{background:linear-gradient(to right,#fefb72,#f0bb31);}.css-utzlxm input:checked + .slider:before{-webkit-transform:translateX(24px);-ms-transform:translateX(24px);-webkit-transform:translateX(24px);-ms-transform:translateX(24px);transform:translateX(24px);background:white url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApgAAAKYB3X3/OAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAANGSURBVEiJndVPbNRVEAfwz9vd/q8tBQtoxSYYDKYmejMGD3DxYloMiRoT22IEDQcPno3xoFclMf6JHrDFyIVEI3g2eiDoRWOMfygqNrSkoeAWCtIu230e3m+77e6KCZO8vH3zZuY7M+/7mxVjVFu7C+vPt7mmh4fi+eEDMUYFVZkdeZU7dhgIzxOj25ULe3fJx6PYamZkDYD4rRDmmgafDIdE3aIJbcrKxkQF4/GtBtuY/43KGVBxOsT/S3YijAomEVBCBe0geNlYfLfBZ3bfJmFlp7u/ONUcYCIMCw6jL1vhFikUURS9Zn88Vn9ZaOJA8DTuA3n0Zjm3ZlDL2VrASpZE8CwaABormAgPC75Cny7cmYE0kwou4Rq4IWeP0fhdc4DjIe+GD0QvIKcbmzOrtl56t9O2gRBYvsKVcyz9ne7nsQgiPhUdtD8uNVYwGRbQK497qu3ZzsYHUuB1EimepTiVKplBGZQM6rI7liFX5/Ur0rPmpYw3ZcEL7fRso3eQQgcCfffT0Z+i9K3GOFMNvh7gWOjDYGpJpuvbkQK1dND/IF1b6Oynf4jW7jU2a3zY6uPQ3whw0/u4S5DYIqsAOjdrkKqutSfbVcncL+ejOoAQsC39VGN9yOiTa8LmXIGOx8h11RxqzzTgeHLOAGKUM4pFFdzMzJYX0n79YiPAP/O0PUSlHTE9cCXdCJ7zVFxZA4DReA4/gKVMd/WvtJcWKf6e6FlapPgHS0UW3uPyN9b58IuxOFU91Ne+E+kL7cb1Oa5O0zPI0kJaa+XaLIszif21q4x2if+1ClLP/iRrUfYNufQTF79P2ceY2lFaZP5HLqaCFaUxmOSsT3RWD42j4mh4RnQEnTZYP+pCLh1Se2uZF0FZdNC0o16Plf8GgMnwOZ5Eot9GiefVmbQiDbtitif52njcUx+q+TSNTgoZQAlzddblJj7ByWah0htc2LvL7L5Nq9r98YhBLSo2481Vfbkh+DtytljWaiy+3QwgxOnhIfl4AmdoGTXw2eUGq8lwWNCDD1WUBC+hYNyLTf9iZ554RAiPG/jyjYKcR7E1wa3sxKkGh/H4Sp3mULNsVyVvTgxTqYIYmRk5oOK0e0/8fEvH25B/AZyRWA6LDlu9AAAAAElFTkSuQmCC);background-repeat:no-repeat;background-position:center;}.css-utzlxm .slider.round{border-radius:34px;}.css-utzlxm .slider.round:before{border-radius:50%;}</style><div class="css-utzlxm e1c69wq20"><label id="switch" class="switch"><input type="checkbox" id="slider" checked=""/><span class="slider round"></span></label></div></li></ul></div></nav><style data-emotion-css="1gvjyvp">.css-1gvjyvp{height:60px;box-shadow:0 3px 6px 0 rgba(0,0,0,0.16);background-color:#f8f8f8;position:relative;display:none;}@media (max-width:767px){.css-1gvjyvp{display:block;}}</style><div class="css-1gvjyvp e1217p0e0"><div class="navBarDefault removePadd"><span class="navBarToggle" role="button" tabindex="0"><span class="iconBar"></span><span class="iconBar"></span><span class="iconBar"></span></span></div><div class="searchWrapper"><div></div></div></div></div><style data-emotion-css="139q0o8">.css-139q0o8{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;background:#fff;}.css-139q0o8 .sideBarUL li a{color:#3B454E;}.css-139q0o8 .sideBarUL .item > a:hover{background-color:#1ed3c6;color:#fff !important;}@media only screen and (max-width:767px){.css-139q0o8{display:block;}}</style><div class="css-139q0o8 e1eqkayb0"><style data-emotion-css="192n44p">.css-192n44p{width:298px;}</style><div class="hiddenMobile css-192n44p e1eqkayb3"><style data-emotion-css="8uxxw2">.css-8uxxw2{width:100%;height:100vh;overflow:auto;position:fixed;padding-left:0px;position:-webkit-sticky;position:-moz-sticky;position:-webkit-sticky;position:sticky;top:0;padding-right:0;-webkit-box-shadow:-1px 0px 4px 1px rgba(175,158,232,0.4);}@media only screen and (max-width:1023px){.css-8uxxw2{width:100%;height:100vh;}}@media (min-width:767px) and (max-width:1023px){.css-8uxxw2{padding-left:0;}}@media only screen and (max-width:767px){.css-8uxxw2{padding-left:0px;height:auto;}}</style><aside class="css-8uxxw2 e1sbq3r11"><div class="sidebarTitle hiddenMobile"><a href='https://docker-workshop.com/'>Docker </a><div class='greenCircle'></div><a href='https://docker-workshop.com/'>Workshop</a></div><ul class="sideBarUL"><li class="hideFrontLine firstLevel item "><ul><li class=" item "><a href="/introduction">Introduction</a></li><li class=" item "><a href="/quick-examples">Quick Examples</a></li><li class=" item "><a href="/why-containers">Why Use Containers</a></li><li class=" item "><a href="/containers-in-practice">Containers in Practice<button aria-label="collapse" class="collapser"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24"><path d="M7.33 24l-2.83-2.829 9.339-9.175-9.339-9.167 2.83-2.829 12.17 11.996z"></path></svg></button></a></li></ul></li><style data-emotion-css="1q387v1">.css-1q387v1{list-style:none;padding:0.5rem 0;}.css-1q387v1 hr{margin:0;padding:0;border:0;border-bottom:1px solid #ede7f3;}</style><li class="css-1q387v1 e1sbq3r12"><hr/></li><style data-emotion-css="12lts21">.css-12lts21{list-style:none;}.css-12lts21 a{color:#5c6975;-webkit-text-decoration:none;text-decoration:none;font-weight:400;padding:0.45rem 0 0.45rem 2rem;display:block;position:relative;}.css-12lts21 a:hover{color:#1ed3c6 !important;}.css-12lts21 a svg{float:right;margin-right:1rem;}</style><li class="css-12lts21 e1sbq3r10"><a href="https://docs.docker.com/" to="https://docs.docker.com/" target="_blank" rel="noopener noreferrer">Docker Docs<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></li><li class="css-12lts21 e1sbq3r10"><a href="https://docs.docker.com/engine/reference/builder/" to="https://docs.docker.com/engine/reference/builder/" target="_blank" rel="noopener noreferrer">Dockerfile Reference<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></li><li class="css-12lts21 e1sbq3r10"><a href="https://docs.docker.com/compose/compose-file/" to="https://docs.docker.com/compose/compose-file/" target="_blank" rel="noopener noreferrer">Compose File Reference<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></li></ul></aside></div><div class="sidebarTitle sideBarShow"><a href='https://docker-workshop.com/'>Docker </a><div class='greenCircle'></div><a href='https://docker-workshop.com/'>Workshop</a></div><style data-emotion-css="zj4uvr">.css-zj4uvr{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;margin:0px 88px;padding-top:3rem;background:#fff;}.css-zj4uvr table tr{background:#fff;}@media only screen and (max-width:1023px){.css-zj4uvr{padding-left:0;margin:0 10px;padding-top:3rem;}}</style><main class="css-zj4uvr e1eqkayb1"><style data-emotion-css="14zj307">@media only screen and (max-width:50rem){.css-14zj307{width:100%;position:relative;}}</style><div class="css-14zj307 e1eqkayb2"><div class="titleWrapper"><style data-emotion-css="1gg19kx">.css-1gg19kx{font-size:32px;line-height:1.5;font-weight:500;border-left:2px solid #1ed3c6;padding:0 16px;-webkit-flex:1;-ms-flex:1;flex:1;margin-top:0;padding-top:0;color:#000;}</style><h1 class="css-1gg19kx e1m7sxnn0">Building an Image</h1><style data-emotion-css="qu2iew">.css-qu2iew{padding:1rem 1.5rem;text-align:right;}.css-qu2iew a{font-size:14px;font-weight:500;line-height:1em;-webkit-text-decoration:none;text-decoration:none;color:#555;border:1px solid rgb(211,220,228);cursor:pointer;border-radius:3px;-webkit-transition:all 0.2s ease-out 0s;transition:all 0.2s ease-out 0s;-webkit-text-decoration:none;text-decoration:none;color:rgb(36,42,49);background-color:rgb(255,255,255);box-shadow:rgba(116,129,141,0.1) 0px 1px 1px 0px;height:30px;padding:5px 16px;}.css-qu2iew a:hover{background-color:rgb(245,247,249);}</style><div class="mobileView css-qu2iew e1m7sxnn1"></div></div><style data-emotion-css="1qktglx">.css-1qktglx{max-width:750px;color:#3B454E;}.css-1qktglx ul,.css-1qktglx ol{-webkit-padding-start:40px;-moz-padding-start:40px;-o-padding-start:40px;margin:24px 0px;padding:0px 0px 0px 2em;}.css-1qktglx ul li,.css-1qktglx ol li{font-size:16px;line-height:1.8;font-weight:400;}.css-1qktglx a{-webkit-transition:color 0.15s;transition:color 0.15s;color:#1000EE;}.css-1qktglx code{border:1px solid #ede7f3;border-radius:4px;padding:2px 6px;font-size:0.9375em;background:#fff;}@media (max-width:767px){.css-1qktglx{padding:0 15px;}}</style><div class="css-1qktglx e1m7sxnn2"><h1 class="heading1" id="goals">Goals</h1><p class="paragraph">We are going to walk through building an image from a basic Dockerfile and extending that Dockerfile more and more
to achieve the results we want. On this page we will:</p><ul><li>Extend another docker image</li><li>Modify the configuration of the base docker image</li><li>Learn how to publish our docker image to a registry.</li></ul><h1 class="heading1" id="extendanotherdockerimage">Extend Another Docker Image</h1><p class="paragraph">Let&#x27;s say we want to serve our own HTML instead of the Nginx welcome page. After all if the only thing we could do with
containers is serve welcome pages then they would not be all that useful.</p><h2 class="heading2" id="1.createatestdirectory">1. Create a Test Directory</h2><style data-emotion-css="fkgcw9">.css-fkgcw9{padding:16px;background:rgb(245,247,249);}</style><pre class="css-fkgcw9 ev1gfv90"><pre><pre class="prism-code language-javascript pre" style="color:#9CDCFE;background-color:#1E1E1E" p="3"><div class="token-line"><span class="token plain">mkdir </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain">p </span><span class="token operator" style="color:rgb(212, 212, 212)">~</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">my</span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain">docker</span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain">site</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">html </span><span class="token operator" style="color:rgb(212, 212, 212)">&amp;&amp;</span><span class="token plain"> cd </span><span class="token operator" style="color:rgb(212, 212, 212)">~</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">my</span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain">docker</span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain">site</span></div></pre></pre></pre><h2 class="heading2" id="2.addourownhtml">2. Add Our Own HTML</h2><p class="paragraph">Copy this HTML to a file at <code>~/my-docker-site/html/index.html</code></p><pre class="css-fkgcw9 ev1gfv90"><pre><pre class="prism-code language-javascript pre" style="color:#9CDCFE;background-color:#1E1E1E" p="3"><div class="token-line"><span class="token operator" style="color:rgb(212, 212, 212)">&lt;</span><span class="token operator" style="color:rgb(212, 212, 212)">!</span><span class="token constant" style="color:rgb(100, 102, 149)">DOCTYPE</span><span class="token plain"> html</span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;</span><span class="token plain">html</span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;</span><span class="token plain">head</span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;</span><span class="token plain">title</span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token maybe-class-name">Docker</span><span class="token plain"> </span><span class="token maybe-class-name">Workshop</span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">title</span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">head</span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;</span><span class="token plain">body</span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain"></span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;</span><span class="token plain">h1</span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token maybe-class-name">Docker</span><span class="token plain"> </span><span class="token maybe-class-name">Workshop</span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">h1</span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;</span><span class="token plain">p</span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token maybe-class-name">Welcome</span><span class="token plain"> everyone</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">p</span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain"></span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">body</span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">html</span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"></span></div></pre></pre></pre><h2 class="heading2" id="3.createadockerfile">3. Create a Dockerfile</h2><p class="paragraph">Place this file as <code>~/my-docker-site/Dockerfile</code></p><pre class="css-fkgcw9 ev1gfv90"><pre><pre class="prism-code language-javascript pre" style="color:#9CDCFE;background-color:#1E1E1E" p="3"><div class="token-line"><span class="token constant" style="color:rgb(100, 102, 149)">FROM</span><span class="token plain"> nginx</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token number" style="color:rgb(181, 206, 168)">1.18</span><span class="token number" style="color:rgb(181, 206, 168)">.0</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token constant" style="color:rgb(100, 102, 149)">COPY</span><span class="token plain"> html </span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">usr</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">share</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">nginx</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">html</span></div></pre></pre></pre><h2 class="heading2" id="4.buildthedockerimage">4. Build the Docker Image</h2><p class="paragraph">From the <code>~/my-docker-site</code> directory</p><pre class="css-fkgcw9 ev1gfv90"><pre><pre class="prism-code language-javascript pre" style="color:#9CDCFE;background-color:#1E1E1E" p="3"><div class="token-line"><span class="token plain">docker build </span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain"></span></div></pre></pre></pre><p class="paragraph">If you notice when we now run the command to list available images we will have a nameless/tagless image</p><pre class="css-fkgcw9 ev1gfv90"><pre><pre class="prism-code language-javascript pre" style="color:#9CDCFE;background-color:#1E1E1E" p="3"><div class="token-line"><span class="token plain">docker images</span></div></pre></pre></pre><p class="paragraph"><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:812px">
      <a href="/static/8a29f703395b12c085313a2620e65292/4e65e/nameless-tagless-images.png" target="_blank" rel="noopener noreferrer">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:7.8817733990147785%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsSAAALEgHS3X78AAAAbUlEQVQI102Oyw6DMAwEbefFBUoSpWp7QRygEun//942sQrqYWXPWFqZeBgxx4yYMkq5w/sAIgazQMToPLnHGKueiNT33Tn/Y3UGtoke18pY5DqGMGBZ1r8Cwra/UesHORfl1B45Gj+eL0zTDV9NWywAJkIM4gAAAABJRU5ErkJggg==&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="docker images command output" title="docker images command output" src="/static/8a29f703395b12c085313a2620e65292/4e65e/nameless-tagless-images.png" srcSet="/static/8a29f703395b12c085313a2620e65292/8472d/nameless-tagless-images.png 259w,/static/8a29f703395b12c085313a2620e65292/9eb08/nameless-tagless-images.png 518w,/static/8a29f703395b12c085313a2620e65292/4e65e/nameless-tagless-images.png 812w" sizes="(max-width: 812px) 100vw, 812px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
  </a>
    </span></p><p class="paragraph">This is not ideal to have a namelss/tagless image, as referencing images by their ID makes for less readable commands.
Let us try to rebuild the docker image but this time provide a name and tag.</p><p class="paragraph">From the <code>~/my-docker-site</code> directory</p><pre class="css-fkgcw9 ev1gfv90"><pre><pre class="prism-code language-javascript pre" style="color:#9CDCFE;background-color:#1E1E1E" p="3"><div class="token-line"><span class="token plain">docker build </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain">t my</span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain">docker</span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain">site</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain">v0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token number" style="color:rgb(181, 206, 168)">0.1</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain"></span></div></pre></pre></pre><p class="paragraph"><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:1035px">
      <a href="/static/e412ac2845b2fb52ab4a687758d7fd8d/805b2/named-tagged-images.png" target="_blank" rel="noopener noreferrer">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:6.165703275529865%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAAAsSAAALEgHS3X78AAAARUlEQVQI1x2KQQrAQAgDhXVNa0G3LIWe+v9fpuIhZMhE7vcj8iHOi2stAgdFpBqdOY0Rwb13c2ZSddIMdPf+jqHUcqP2H26NFf3/Ta4+AAAAAElFTkSuQmCC&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="docker images command output" title="docker images command output" src="/static/e412ac2845b2fb52ab4a687758d7fd8d/bcbcb/named-tagged-images.png" srcSet="/static/e412ac2845b2fb52ab4a687758d7fd8d/8472d/named-tagged-images.png 259w,/static/e412ac2845b2fb52ab4a687758d7fd8d/9eb08/named-tagged-images.png 518w,/static/e412ac2845b2fb52ab4a687758d7fd8d/bcbcb/named-tagged-images.png 1035w,/static/e412ac2845b2fb52ab4a687758d7fd8d/805b2/named-tagged-images.png 1038w" sizes="(max-width: 1035px) 100vw, 1035px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
  </a>
    </span></p><h2 class="heading2" id="5.createcontainerfromourcustomimage">5. Create Container From Our Custom Image</h2><pre class="css-fkgcw9 ev1gfv90"><pre><pre class="prism-code language-javascript pre" style="color:#9CDCFE;background-color:#1E1E1E" p="3"><div class="token-line"><span class="token plain">docker run </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain">dit </span><span class="token operator" style="color:rgb(212, 212, 212)">--</span><span class="token plain">name my</span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain">docker</span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain">site </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain">p </span><span class="token number" style="color:rgb(181, 206, 168)">8080</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token number" style="color:rgb(181, 206, 168)">80</span><span class="token plain"> my</span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain">docker</span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain">site</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain">v0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token number" style="color:rgb(181, 206, 168)">0.1</span><span class="token plain"></span></div></pre></pre></pre><h2 class="heading2" id="6.verifyhtmlinbrowser">6. Verify HTML in Browser</h2><p class="paragraph">Visit <a href="http://localhost:8080" target="_blank" rel="noopener noreferrer">localhost:8080</a> to see our HTML instead of the default Nginx welcome page.
<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:1035px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:34.899328859060404%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAc0lEQVQoz62PQQcAIRCF+/8/rWMdOkRUh+hWdIl6ayKyy9qyj2c8Zj5vmHMO3nvEGGGMAWVrLUII6L2DNOcXMSklOOfQWkMpBcpCiOHW2j4w54xSClJKqLU+FnZgA3g/plbTRy/T8uoJWPNWwzfgiRh+1gU0bCc+FSwKBgAAAABJRU5ErkJggg==&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="browser output of our custom HTML" title="browser output of our custom HTML" src="/static/610253966458d13b825e9a3b50763b61/bcbcb/custom-nginx-html.png" srcSet="/static/610253966458d13b825e9a3b50763b61/8472d/custom-nginx-html.png 259w,/static/610253966458d13b825e9a3b50763b61/9eb08/custom-nginx-html.png 518w,/static/610253966458d13b825e9a3b50763b61/bcbcb/custom-nginx-html.png 1035w,/static/610253966458d13b825e9a3b50763b61/64b56/custom-nginx-html.png 1490w" sizes="(max-width: 1035px) 100vw, 1035px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
    </span></p><h1 class="heading1" id="modifytheconfigurationofthebasedockerimage">Modify the configuration of the base docker image</h1><p class="paragraph">Now we have our own Docker image what if we wanted to take our Nginx server a bit further and add some custom redirects
to it. For the sake of this example let&#x27;s say we want to redirect <code>/homepage</code> to <code>/</code> because we moved where our homepages lives.</p><p class="paragraph">Picking up where we left off, if you visit <a href="http://localhost:8080/homepage" target="_blank" rel="noopener noreferrer">localhost:8080/homepage</a> then you will see the
standard Nginx &quot;not found&quot; page.
<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:1035px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:14.413407821229052%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABYlAAAWJQFJUiTwAAAANUlEQVQI12P4+/fvf3z45cuX/+/du/f/7du3///9+4dXLUieAUTgwyCATBPCDP8JAHTDCQEAZlntl9tvMdEAAAAASUVORK5CYII=&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="Nginx not found page" title="Nginx not found page" src="/static/7d0d79e6d6d3d28d005d36600f66641d/bcbcb/nginx-not-found.png" srcSet="/static/7d0d79e6d6d3d28d005d36600f66641d/8472d/nginx-not-found.png 259w,/static/7d0d79e6d6d3d28d005d36600f66641d/9eb08/nginx-not-found.png 518w,/static/7d0d79e6d6d3d28d005d36600f66641d/bcbcb/nginx-not-found.png 1035w,/static/7d0d79e6d6d3d28d005d36600f66641d/cb7c7/nginx-not-found.png 1553w,/static/7d0d79e6d6d3d28d005d36600f66641d/09b9a/nginx-not-found.png 2070w,/static/7d0d79e6d6d3d28d005d36600f66641d/ca453/nginx-not-found.png 3580w" sizes="(max-width: 1035px) 100vw, 1035px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
    </span></p><p class="paragraph">Let&#x27;s get this route to redirect to <code>/</code> where we have placed our custom HTML page. This process will take a little
Nginx knowledge, but let&#x27;s walk through the steps together.</p><h2 class="heading2" id="1.findthenginxconfig">1. Find the Nginx Config</h2><p class="paragraph">With our <code>my-docker-site</code> container running let&#x27;s get inside of the container, so we can poke around the existing configuration.</p><pre class="css-fkgcw9 ev1gfv90"><pre><pre class="prism-code language-javascript pre" style="color:#9CDCFE;background-color:#1E1E1E" p="3"><div class="token-line"><span class="token plain">docker exec </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain">it my</span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain">docker</span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain">site bash</span></div></pre></pre></pre><p class="paragraph">The above command should open up the prompt to use the container as our shell.</p><p class="paragraph">Let&#x27;s navigate to the standard spot we would normally find Nginx configuration</p><pre class="css-fkgcw9 ev1gfv90"><pre><pre class="prism-code language-javascript pre" style="color:#9CDCFE;background-color:#1E1E1E" p="3"><div class="token-line"><span class="token plain">cd </span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">etc</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">nginx </span><span class="token operator" style="color:rgb(212, 212, 212)">&amp;&amp;</span><span class="token plain"> ls</span></div></pre></pre></pre><p class="paragraph"><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:809px">
      <a href="/static/2bb81eb0efd490971311a1097ac39afb/eca87/nginx-config-dir.png" target="_blank" rel="noopener noreferrer">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:5.067985166872683%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAAAsSAAALEgHS3X78AAAASUlEQVQI1x3GRw6AIAAAQbzSDWK50DRo4v/ftxJPM6KenXbd9OcllUbKlW0/SCmPF2Jccc5jrfuVUg0d3s8YYwlhQWuDUgohJj4IlRjoIDroagAAAABJRU5ErkJggg==&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="Nginx configuration directory" title="Nginx configuration directory" src="/static/2bb81eb0efd490971311a1097ac39afb/eca87/nginx-config-dir.png" srcSet="/static/2bb81eb0efd490971311a1097ac39afb/8472d/nginx-config-dir.png 259w,/static/2bb81eb0efd490971311a1097ac39afb/9eb08/nginx-config-dir.png 518w,/static/2bb81eb0efd490971311a1097ac39afb/eca87/nginx-config-dir.png 809w" sizes="(max-width: 809px) 100vw, 809px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
  </a>
    </span>
You can see from the above output we have the standard <code>nginx.conf</code> file so let us see what is inside of it</p><pre class="css-fkgcw9 ev1gfv90"><pre><pre class="prism-code language-javascript pre" style="color:#9CDCFE;background-color:#1E1E1E" p="3"><div class="token-line"><span class="token plain">cat nginx</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">conf</span><span class="token plain"></span></div></pre></pre></pre><p class="paragraph"><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:600px">
      <a href="/static/fe51a353133d7c6126e69b3ff16f4259/3f01f/nginx-conf.png" target="_blank" rel="noopener noreferrer">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:94.66666666666667%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsSAAALEgHS3X78AAACf0lEQVQ4y4VU2ZLiMAy0nfu+A4SBcBQzb/z/32nVchxCDVP7oHLsxK1WqxXVdj2dzjONuwMdpiP1w0C73Z5jR03T0jCMEkmaklJ6CSWrMUaetXbP/G5/mKjrBwELgmD96FPg4v9CTccv2u0PJMDMNmUmvu8LOCIMI9k7Vi+GanO22aPULC8pLyqamOXj8aD7/U7zPFNd15KkKAoBdeyN8SiOkzWR5/lUlqWcqSTNbTnGpyiOKcsyiSRJbAlLZoC99lpAtXYaGqnG8zxSPQs+TV8URinFDBIzaBiGArgVH5cswHtjXNhkHGGUUN10VFaNdLVpGikR5a4fvYUtOYoiKdUBg50kDMLkz666AOuu62S1+4SrmijPnVyGkyzW6Yc9td3A5dqXKBUCI6AlLgVBuGhkGfl+sJ47QDAEc6VNQJfrnc195TJbOh6P0uXL9SqdnucLHdhS2wb9DtskATQM2Pc79uFRLAINB56W8/ks4HXd8PMslsIE7dmzeMZZ23aSrChKkWPpOsREKd4qOgDBEqBuvd1uwvh6vdH39w89n0+WpVoa4ssdcQYYFkXNLxuekpyqqpAGgB3mGQzAchxH0Q2Tk2W5uGDVkJklSSraKrBDyW078AcRVZwVH2MEkTGKYolNSR9Gb6Ov50V0Ol2kKbADTO3ssL2EshwgntM02yTQL+MbE3JZJxYbP4mJhhE26oWt0tAX3fPJ5z1WpexFn220To42dhThQ+OFDDBSmpUyfpoT4Ewp1yheNbRZ9uv4qV8TJAGG43jgRrDo3JwsZ/3yihNUssZJRtYJ3juA/vQr44h4QvKqpbLuqWp6YVuxwQtuDvyV5YW9vAmt/wb8B+pcoTjHSXvOAAAAAElFTkSuQmCC&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="Nginx config file" title="Nginx config file" src="/static/fe51a353133d7c6126e69b3ff16f4259/3f01f/nginx-conf.png" srcSet="/static/fe51a353133d7c6126e69b3ff16f4259/8472d/nginx-conf.png 259w,/static/fe51a353133d7c6126e69b3ff16f4259/9eb08/nginx-conf.png 518w,/static/fe51a353133d7c6126e69b3ff16f4259/3f01f/nginx-conf.png 600w" sizes="(max-width: 600px) 100vw, 600px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
  </a>
    </span></p><h2 class="heading2" id="2.modifytheconfigtoincludeourredirect">2. Modify the Config to Include our Redirect</h2><p class="paragraph">We can see from the output of <code>cat nginx.conf</code> above, that our out of the box Nginx configuration is including all <code>*.conf</code>
files from the <code>/etc/nginx/conf.d/</code> directory. We know that from this line</p><pre class="css-fkgcw9 ev1gfv90"><pre><pre class="prism-code language-javascript pre" style="color:#9CDCFE;background-color:#1E1E1E" p="3"><div class="token-line"><span class="token plain">include </span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">etc</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">nginx</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">conf</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">d</span><span class="token comment" style="color:rgb(106, 153, 85)">/*.conf</span></div></pre></pre></pre><p class="paragraph">If we take a look in this directory we can see there is currently 1 file <code>default.conf</code>
<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:585px">
      <a href="/static/4fce7cf45460aaffe7f109bc338f91eb/4c1ab/nginx-default-conf.png" target="_blank" rel="noopener noreferrer">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:133.67521367521366%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAbCAYAAAB836/YAAAACXBIWXMAAAsSAAALEgHS3X78AAADYUlEQVRIx5VV6XriMAyMQ25IQu6Dq3ShtMv7P592Rk4o0K/b3R+q7NoZS5qRcJq2l2Hcih9E4jiOpGkqxrgwI65r9H/cLxYLNccxPxj+vBx/yWa7l6Io5e3tTUF9P1BQntMTzHXd294+6n4FNK4vbTtI14/StJ1UVSVN00gU2Yi/t4eo8KCnQTjuIpDt9oC0d9L3g4KtVivJ81zW6zWizbBPH9aMLMsy/K9A1AsF5P2u6/iAJ6xjVXeSZrlGRkB+vFwusY/hVwrEfZIsFZDRBEF4i9B+l3K9wGuFXN6vUpSV7HY7RLyVcRx13ff9RMxnel9TvjsziJCgabqWOF5KWZZaRxpTYGoziJJgngAmz9Q9z2cNfeRfIpVUkmUK0OSh+GEYav2Y6n2EVkreQ8plWdgIq6pBNKOU8E1TTbWLFCzP11BBB0kVWjNaHMf68KdsHPw/sDVcgOU8LzTlBMXPQEY6scr68RIJIjBZrapa9Vqi3pbhp9oS8PX1JO8gpYcWPz4+5Hq9ymazkbqutaYEJoCNyHms6bMOjfGRYi7DsIPPwOxe9vuDptk0rQLZlEL7wUSElU1we4T7CKVQYftBLAsvFM+P1NOCMFELo6We88zjHS9QNj3Pu4naMj+njEsjuqSGsIuykbrpYYPkRS1r7FuQtca67QbcabG2sqprdFSaPUhHvefH0g1bbT0CdP1GWhgji5MV2E7EVXn8rafv9gE+zMtaVuiWGi3IV5VttKG2HCaP5/s/DIq7znExlpgC5cEG5+hid+iAgHQoEUqIxnMOjxznhZ4V2k38/taenHNt2yoIBwE1N08RH5GRPXoyqqKG4COsQxg99/59BrzYdb2cz2cFtr1cqw55xq6h/znlO8A4SaDDQS6XixwOLyro0+kMO0GT++lnwUyRhioZGsVMM8Z8psyDBIDsht/oknEYpUKUjPh4PKpn3QjKDJjN3EF2urc3cSsga5Sh2HydRMyh6zCFkRgOie/l4j7PQ6OvzS+uMQRKMFtjTaIIzOnC6Mg0783rOI6myJxPz18y1o8p82IP23APT3n4HgYnlMBaszyMlmZrOA2LCVA9D8joDsWvUBvWL2GT/yOr9ifVmvY0X5sHKmsWThIxkzn/ayTDmMd+NE/2GNFsiMo1d96e/wGxLlN87p1cnwAAAABJRU5ErkJggg==&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="Nginx default.conf file" title="Nginx default.conf file" src="/static/4fce7cf45460aaffe7f109bc338f91eb/4c1ab/nginx-default-conf.png" srcSet="/static/4fce7cf45460aaffe7f109bc338f91eb/8472d/nginx-default-conf.png 259w,/static/4fce7cf45460aaffe7f109bc338f91eb/9eb08/nginx-default-conf.png 518w,/static/4fce7cf45460aaffe7f109bc338f91eb/4c1ab/nginx-default-conf.png 585w" sizes="(max-width: 585px) 100vw, 585px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
  </a>
    </span></p><p class="paragraph">We can see from the above output that the default.conf file is listening to port 80 on localhost. This seems like a good
place to include our redirect. First lets copy the <code>/etc/nginx/conf.d/default.conf</code> file to our local
<code>~/my-docker-site/docker-config/default.conf</code> file. We can then modify the file to have the redirect that we want.</p><pre class="css-fkgcw9 ev1gfv90"><pre><pre class="prism-code language-javascript pre" style="color:#9CDCFE;background-color:#1E1E1E" p="3"><div class="token-line"><span class="token plain">server </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    listen       </span><span class="token number" style="color:rgb(181, 206, 168)">80</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    listen  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token number" style="color:rgb(181, 206, 168)">80</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    server_name  localhost</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain">    #charset koi8</span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain">r</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    #access_log  </span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token keyword" style="color:rgb(86, 156, 214)">var</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">log</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">nginx</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">host</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">access</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">log</span><span class="token plain">  main</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain">    </span><span class="token dom variable" style="color:rgb(156, 220, 254)">location</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        rewrite </span><span class="token operator" style="color:rgb(212, 212, 212)">^</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">homepage$ http</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">localhost</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token number" style="color:rgb(181, 206, 168)">8080</span><span class="token plain"> permanent</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        root   </span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">usr</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">share</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">nginx</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">html</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        index  index</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">html</span><span class="token plain"> index</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">htm</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain">    #error_page  </span><span class="token number" style="color:rgb(181, 206, 168)">404</span><span class="token plain">              </span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token number" style="color:rgb(181, 206, 168)">404.</span><span class="token plain">html</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain">    # redirect server error pages to the </span><span class="token keyword" style="color:rgb(86, 156, 214)">static</span><span class="token plain"> page </span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token number" style="color:rgb(181, 206, 168)">50</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">html</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    #</span></div><div class="token-line"><span class="token plain">    error_page   </span><span class="token number" style="color:rgb(181, 206, 168)">500</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">502</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">503</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">504</span><span class="token plain">  </span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token number" style="color:rgb(181, 206, 168)">50</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">html</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token dom variable" style="color:rgb(156, 220, 254)">location</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token number" style="color:rgb(181, 206, 168)">50</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">html</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        root   </span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">usr</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">share</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">nginx</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">html</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain">    # proxy the </span><span class="token constant" style="color:rgb(100, 102, 149)">PHP</span><span class="token plain"> scripts to </span><span class="token maybe-class-name">Apache</span><span class="token plain"> listening on </span><span class="token number" style="color:rgb(181, 206, 168)">127.0</span><span class="token number" style="color:rgb(181, 206, 168)">.0</span><span class="token number" style="color:rgb(181, 206, 168)">.1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token number" style="color:rgb(181, 206, 168)">80</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    #</span></div><div class="token-line"><span class="token plain">    #</span><span class="token dom variable" style="color:rgb(156, 220, 254)">location</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">~</span><span class="token plain"> \</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">php$</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    #    proxy_pass   http</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token number" style="color:rgb(181, 206, 168)">127.0</span><span class="token number" style="color:rgb(181, 206, 168)">.0</span><span class="token number" style="color:rgb(181, 206, 168)">.1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    #</span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain">    # pass the </span><span class="token constant" style="color:rgb(100, 102, 149)">PHP</span><span class="token plain"> scripts to </span><span class="token maybe-class-name">FastCGI</span><span class="token plain"> server listening on </span><span class="token number" style="color:rgb(181, 206, 168)">127.0</span><span class="token number" style="color:rgb(181, 206, 168)">.0</span><span class="token number" style="color:rgb(181, 206, 168)">.1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token number" style="color:rgb(181, 206, 168)">9000</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    #</span></div><div class="token-line"><span class="token plain">    #</span><span class="token dom variable" style="color:rgb(156, 220, 254)">location</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">~</span><span class="token plain"> \</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">php$</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    #    root           html</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    #    fastcgi_pass   </span><span class="token number" style="color:rgb(181, 206, 168)">127.0</span><span class="token number" style="color:rgb(181, 206, 168)">.0</span><span class="token number" style="color:rgb(181, 206, 168)">.1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token number" style="color:rgb(181, 206, 168)">9000</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    #    fastcgi_index  index</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">php</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    #    fastcgi_param  </span><span class="token constant" style="color:rgb(100, 102, 149)">SCRIPT_FILENAME</span><span class="token plain">  </span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">scripts$fastcgi_script_name</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    #    include        fastcgi_params</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    #</span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain">    # deny access to </span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">htaccess</span><span class="token plain"> files</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">if</span><span class="token plain"> </span><span class="token maybe-class-name">Apache</span><span class="token plain">&#x27;s </span><span class="token dom variable" style="color:rgb(156, 220, 254)">document</span><span class="token plain"> root</span></div><div class="token-line"><span class="token plain">    # concurs </span><span class="token keyword" style="color:rgb(86, 156, 214)">with</span><span class="token plain"> nginx&#x27;s one</span></div><div class="token-line"><span class="token plain">    #</span></div><div class="token-line"><span class="token plain">    #</span><span class="token dom variable" style="color:rgb(156, 220, 254)">location</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">~</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">\</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">ht</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    #    deny  all</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    #</span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span></div></pre></pre></pre><h2 class="heading2" id="3.useourdefault.conffileinsteadoftheoutoftheboxone">3. Use Our default.conf File Instead of the Out Of The Box One</h2><p class="paragraph">Edit your <code>Dockerfile</code> again</p><pre class="css-fkgcw9 ev1gfv90"><pre><pre class="prism-code language-javascript pre" style="color:#9CDCFE;background-color:#1E1E1E" p="3"><div class="token-line"><span class="token constant" style="color:rgb(100, 102, 149)">FROM</span><span class="token plain"> nginx</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token number" style="color:rgb(181, 206, 168)">1.18</span><span class="token number" style="color:rgb(181, 206, 168)">.0</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token constant" style="color:rgb(100, 102, 149)">COPY</span><span class="token plain"> html </span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">usr</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">share</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">nginx</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">html</span></div><div class="token-line"><span class="token plain"></span><span class="token constant" style="color:rgb(100, 102, 149)">COPY</span><span class="token plain"> docker</span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain">config </span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">etc</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">nginx</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">conf</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">d</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain"></span></div></pre></pre></pre><h2 class="heading2" id="4.buildnewdockerimage">4. Build New Docker Image</h2><p class="paragraph">From the <code>~/my-docker-site</code> directory</p><pre class="css-fkgcw9 ev1gfv90"><pre><pre class="prism-code language-javascript pre" style="color:#9CDCFE;background-color:#1E1E1E" p="3"><div class="token-line"><span class="token plain">docker build </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain">t my</span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain">docker</span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain">site</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain">v0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token number" style="color:rgb(181, 206, 168)">0.2</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain"></span></div></pre></pre></pre><h2 class="heading2" id="5.createcontainerbasedonnewimage">5. Create Container Based on New Image</h2><pre class="css-fkgcw9 ev1gfv90"><pre><pre class="prism-code language-javascript pre" style="color:#9CDCFE;background-color:#1E1E1E" p="3"><div class="token-line"><span class="token plain">docker run </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain">dit </span><span class="token operator" style="color:rgb(212, 212, 212)">--</span><span class="token plain">name my</span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain">docker</span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain">site</span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token number" style="color:rgb(181, 206, 168)">2</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain">p </span><span class="token number" style="color:rgb(181, 206, 168)">8090</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token number" style="color:rgb(181, 206, 168)">80</span><span class="token plain"> my</span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain">docker</span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain">site</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain">v0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token number" style="color:rgb(181, 206, 168)">0.2</span><span class="token plain"></span></div></pre></pre></pre><p class="paragraph">We can now verify we have 2 Nginx containers running, one without our redirect at <a href="http://localhost:8080" target="_blank" rel="noopener noreferrer">localhost:8080</a>
and another with our redirect at <a href="http://localhost:8090" target="_blank" rel="noopener noreferrer">localhost:8090</a>.</p><h1 class="heading1" id="learnhowtopublishdockerimagetoaregistry">Learn How to Publish Docker Image to a Registry</h1><p class="paragraph"><a href="https://docs.docker.com/docker-hub/publish/publish/" target="_blank" rel="noopener noreferrer">Publishing Docs</a>.</p><p class="paragraph">This step is actually really easy, if you wanted to publish to a docker registry like Docker Hub then just create an account
on Docker Hub and login.</p><pre class="css-fkgcw9 ev1gfv90"><pre><pre class="prism-code language-javascript pre" style="color:#9CDCFE;background-color:#1E1E1E" p="3"><div class="token-line"><span class="token plain">docker login</span></div></pre></pre></pre><p class="paragraph">Once you are logged in you can now push your images</p><pre class="css-fkgcw9 ev1gfv90"><pre><pre class="prism-code language-javascript pre" style="color:#9CDCFE;background-color:#1E1E1E" p="3"><div class="token-line"><span class="token plain">docker push my</span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain">docker</span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain">site</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain">v0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token number" style="color:rgb(181, 206, 168)">0.2</span><span class="token plain"></span></div></pre></pre></pre><p class="paragraph">Some registries offer free public images but require you to pay a price if you plan on publishing private images. If you
are publishing images for your organization it is probably best for you to be using private registries.</p><h2 class="heading2" id="alternativestodockerhub">Alternatives to Docker Hub</h2><p class="paragraph">There are obviously more registries than Docker&#x27;s official one. Some of them offer security scans, and some of them offer more
storage. Pick the one that works best for your team&#x27;s needs.</p><p class="paragraph">Some alternatives:</p><ul><li><a href="https://cloud.google.com/container-registry" target="_blank" rel="noopener noreferrer">GCP Registry</a></li><li><a href="https://docs.aws.amazon.com/AmazonECR/latest/userguide/Registries.html" target="_blank" rel="noopener noreferrer">Amazon ECR</a></li></ul></div><div class="addPaddTopBottom"><style data-emotion-css="qlf7aj">.css-qlf7aj{margin:0px;padding:0px;width:auto;display:grid;grid-template-rows:auto;-webkit-column-gap:24px;column-gap:24px;grid-template-columns:calc(50% - 8px) calc(50% - 8px);}.css-qlf7aj .previousBtn{cursor:pointer;-moz-box-align:center;-moz-box-direction:normal;-moz-box-orient:horizontal;margin:0px;padding:0px;position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;place-self:stretch;border-radius:3px;border:1px solid rgb(230,236,241);-webkit-transition:border 200ms ease 0s;transition:border 200ms ease 0s;box-shadow:rgba(116,129,141,0.1) 0px 3px 8px 0px;-webkit-text-decoration:none;text-decoration:none;background-color:#fff;color:#3B454E;}.css-qlf7aj .nextBtn{cursor:pointer;-moz-box-align:center;-moz-box-direction:normal;-moz-box-orient:horizontal;margin:0px;padding:0px;position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;place-self:stretch;border-radius:3px;border:1px solid rgb(230,236,241);-webkit-transition:border 200ms ease 0s;transition:border 200ms ease 0s;box-shadow:rgba(116,129,141,0.1) 0px 3px 8px 0px;-webkit-text-decoration:none;text-decoration:none;background-color:#fff;color:#3B454E;}.css-qlf7aj .nextBtn:hover,.css-qlf7aj .previousBtn:hover{-webkit-text-decoration:none;text-decoration:none;border:1px solid #1ed3c6;}.css-qlf7aj .nextBtn:hover .rightArrow,.css-qlf7aj .previousBtn:hover .leftArrow{color:#1ed3c6;}.css-qlf7aj .leftArrow{display:block;margin:0px;color:rgb(157,170,182);-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;font-size:24px;-webkit-transition:color 200ms ease 0s;transition:color 200ms ease 0s;padding:16px;padding-right:16px;}.css-qlf7aj .rightArrow{-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;font-size:24px;-webkit-transition:color 200ms ease 0s;transition:color 200ms ease 0s;padding:16px;padding-left:16px;display:block;margin:0px;color:rgb(157,170,182);}.css-qlf7aj .nextPreviousTitle{display:block;margin:0px;padding:0px;-webkit-transition:color 200ms ease 0s;transition:color 200ms ease 0s;}.css-qlf7aj .nextPreviousTitle span{font-size:16px;line-height:1.5;font-weight:500;}@media (max-width:767px){.css-qlf7aj{display:block;padding:0 15px;}.css-qlf7aj .previousBtn{margin-bottom:20px;}}</style><div class="css-qlf7aj ex6i9xe0"><a class="previousBtn" href="/containers-in-practice/1-managing-docker-containers"><div class="leftArrow"><svg preserveAspectRatio="xMidYMid meet" height="1em" width="1em" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke="currentColor" class="_13gjrqj"><g><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></g></svg></div><div class="preRightWrapper"><div class="smallContent"><span>Previous</span></div><div class="nextPreviousTitle"><span>Managing Docker Containers</span></div></div></a><a class="nextBtn" href="/containers-in-practice/3-docker-compose"><div class="nextRightWrapper"><div class="smallContent"><span>Next</span></div><div class="nextPreviousTitle"><span>Docker Compose</span></div></div><div class="rightArrow"><svg preserveAspectRatio="xMidYMid meet" height="1em" width="1em" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke="currentColor" class="_13gjrqj"><g><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></g></svg></div></a></div></div></div></main><style data-emotion-css="gqp3x7">.css-gqp3x7{width:224px;}</style><div class="hiddenMobile css-gqp3x7 e1eqkayb4"><style data-emotion-css="1dq6tsi">.css-1dq6tsi{width:100%;border-right:1px solid #ede7f3;height:100vh;overflow:auto;position:fixed;padding-left:24px;position:-webkit-sticky;position:-moz-sticky;position:-webkit-sticky;position:sticky;top:0;background:#fff;}.css-1dq6tsi .rightSideTitle{font-size:10px;line-height:1;font-weight:700;text-transform:uppercase;-webkit-letter-spacing:1.2px;-moz-letter-spacing:1.2px;-ms-letter-spacing:1.2px;letter-spacing:1.2px;padding:7px 24px 7px 16px;border-left:1px solid #e6ecf1;border-left-color:rgb(230,236,241);color:#3B454E;}.css-1dq6tsi .rightSideBarUL{margin-top:32px;}.css-1dq6tsi .rightSideBarUL li{list-style-type:none;border-left:1px solid #e6ecf1;border-left-color:rgb(230,236,241);}.css-1dq6tsi .rightSideBarUL li a{font-size:12px;font-weight:500;line-height:1.5;padding:7px 24px 7px 16px;color:#3B454E;}@media only screen and (max-width:50rem){.css-1dq6tsi{width:100%;position:relative;}}</style><aside class="css-1dq6tsi e1y52jk20"><ul class="rightSideBarUL"><li class="rightSideTitle">CONTENTS</li><style data-emotion-css="10m2n0t">.css-10m2n0t{list-style:none;}.css-10m2n0t a{color:#5c6975;-webkit-text-decoration:none;text-decoration:none;font-weight:400;padding:0.45rem 0 0.45rem 3rem;display:block;position:relative;}.css-10m2n0t a:hover{color:#1ed3c6 !important;}.css-10m2n0t a svg{float:right;margin-right:1rem;}</style><li class="css-10m2n0t e1y52jk21"><a href="#goals" to="#goals">Goals</a></li><li class="css-10m2n0t e1y52jk21"><a href="#extendanotherdockerimage" to="#extendanotherdockerimage">Extend Another Docker Image</a></li><li class="css-10m2n0t e1y52jk21"><a href="#modifytheconfigurationofthebasedockerimage" to="#modifytheconfigurationofthebasedockerimage">Modify the configuration of the base docker image</a></li><li class="css-10m2n0t e1y52jk21"><a href="#learnhowtopublishdockerimagetoaregistry" to="#learnhowtopublishdockerimagetoaregistry">Learn How to Publish Docker Image to a Registry</a></li></ul></aside></div></div></div></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/containers-in-practice/2-building-an-image";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-0ab1201750e3d32828dd.js"],"component---src-templates-docs-js":[]};/*]]>*/</script><script src="/app-0ab1201750e3d32828dd.js" async=""></script><script src="/commons-926e13980b7ff3c9526c.js" async=""></script><script src="/webpack-runtime-10c142f63ea43fa1c4a6.js" async=""></script><script defer="">
            function navBarClose() {
              document.getElementById("navbar").classList.toggle("responsive");
            }
            document.addEventListener('click',function(e){
              if(e.target && e.target.tagName.toLowerCase() === 'a'){
                navBarClose();
              }
           });
            </script></body></html>